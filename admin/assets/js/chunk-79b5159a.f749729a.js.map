{"version":3,"sources":["webpack:///./src/views/answerManage/index.vue?75d5","webpack:///./src/views/answerManage/index.vue?5de5","webpack:///./src/api/answermanage.js","webpack:///src/views/answerManage/index.vue","webpack:///./src/views/answerManage/index.vue?838b","webpack:///./src/views/answerManage/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","drawer","handleClose","on","$event","_v","model","value","reqData","callback","$$v","$set","expression","nativeOn","stopPropagation","restReqdata","handleSearch","refeshForm","openDrawer","directives","name","rawName","tableData","scopedSlots","_u","key","fn","scope","_s","row","id","abstract","agree","topicid","userid","parseTime","createtime","handleDetail","$index","handleEdit","handleDelete","pageNo","pageCount","handleSizeChange","handleCurrentChange","disabled","dialogVisible","closeDialog","ref","ruleForm","rules","handleUpdate","resetForm","staticRenderFns","getAnswer","data","request","url","method","answerDetail","deleteAnswer","updateAnswer","loading","title","comment","follow","detail","comments","pageSize","methods","done","getList","initWs","socket","WebSocket","addEventListener","console","log","event","submitForm","$refs","formName","validate","valid","that","resetFields","clearReqdata","findProject","getAnswers","clearValidate","restProject","val","index","$confirm","confirmButtonText","cancelButtonText","type","created","components","searchBtns","VueEditor","component"],"mappings":"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","file":"assets/js/chunk-79b5159a.f749729a.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=bf7824ec&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=bf7824ec&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"topic-main\"},[_c('div',{staticClass:\"topic-header\"},[_c('el-drawer',{attrs:{\"with-header\":false,\"visible\":_vm.drawer,\"direction\":\"rtl\",\"before-close\":_vm.handleClose,\"size\":\"20%\"},on:{\"update:visible\":function($event){_vm.drawer=$event}}},[_c('div',{staticClass:\"drawer-main\"},[_c('div',{staticClass:\"drawer-header clearfix\"},[_c('div',{staticClass:\"drawer-left\"},[_c('i',{staticClass:\"el-icon-warning-outline\"}),_c('div',{staticClass:\"drawer-title\"},[_vm._v(\"搜索回答\")])]),_c('div',{staticClass:\"drawer-right\"},[_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){_vm.drawer=false}}})])]),_c('div',{staticClass:\"drawer-input\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"drawer-label\"},[_vm._v(\"话题ID:\")])]),_c('el-col',{attrs:{\"span\":16}},[_c('el-input',{model:{value:(_vm.reqData.topicid),callback:function ($$v) {_vm.$set(_vm.reqData, \"topicid\", $$v)},expression:\"reqData.topicid\"}})],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"btns\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\"},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.restReqdata($event)}}},[_vm._v(\"重置\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\"},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.handleSearch($event)}}},[_vm._v(\"搜索\")])],1)])],1)],1)])]),_c('el-row',[_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.refeshForm}})],1),_c('el-col',{attrs:{\"span\":2,\"offset\":20}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.openDrawer}})],1)],1)],1),_c('div',{staticClass:\"topic-table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.tableData,\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"label\":\"ID\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.id))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"摘要\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.abstract))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"赞同数\",\"width\":\"70\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.agree))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"话题编号\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.topicid))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"作者UID\",\"width\":\"230\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.userid))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"修改时间\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.parseTime(scope.row.createtime)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"230\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{staticClass:\"btns\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-view\"},on:{\"click\":function($event){return _vm.handleDetail(scope.$index, scope.row)}}}),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}}),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}})],1)}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.reqData.pageNo,\"page-sizes\":[10, 20, 30, 40],\"page-size\":100,\"layout\":\" sizes,prev, pager, next\",\"total\":_vm.reqData.pageCount},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.reqData, \"pageNo\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.reqData, \"pageNo\", $event)}}}),_c('el-dialog',{attrs:{\"title\":_vm.disabled==true?'回答详情':'编辑回答',\"show-close\":\"\",\"top\":\"20px\",\"close-on-press-escape\":\"\",\"visible\":_vm.dialogVisible,\"width\":\"60%\",\"center\":\"\"},on:{\"close\":_vm.closeDialog,\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"disabled\":_vm.disabled,\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"回答内容\",\"prop\":\"answer\"}},[_c('vue-editor',{attrs:{\"id\":\"editor\",\"disabled\":_vm.disabled},model:{value:(_vm.ruleForm.answer),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"answer\", $$v)},expression:\"ruleForm.answer\"}})],1)],1)],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"赞同数\",\"prop\":\"agree\"}},[_c('el-input',{model:{value:(_vm.ruleForm.agree),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"agree\", $$v)},expression:\"ruleForm.agree\"}})],1)],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleUpdate('ruleForm')}}},[_vm._v(\"保存\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '../utils/request'\r\n// 获取话题列表\r\nexport function getAnswer(data){\r\n    return request({\r\n        url: '/answer/list',\r\n        data: data,\r\n        method: 'POST'\r\n    })\r\n}\r\n// 获取话题详情\r\nexport function answerDetail(id) {\r\n    return request({\r\n        url: `/answer/${id}`,\r\n        data: {},\r\n        method: 'post'\r\n    })\r\n}\r\n\r\n// 新增话题\r\nexport function newAnswer(data) {\r\n    return request({\r\n        url: '/save/answer',\r\n        data,\r\n        method: 'post'\r\n    })\r\n}\r\n\r\n// 删除话题\r\nexport function deleteAnswer(data,id) {\r\n    return request({\r\n        url: `/delete/answer/${id}`,\r\n        data,\r\n        method: 'post'\r\n    })\r\n}\r\n// 修改话题\r\nexport function updateAnswer(data,id) {\r\n    return request({\r\n        url: `/update/answer/${id}`,\r\n        data,\r\n        method: 'post'\r\n    })\r\n}\r\n","<style lang=\"scss\" scoped>\r\n.drawer-main {\r\n  padding: 30px 20px 50px 20px;\r\n  box-sizing: border-box;\r\n  height: 100vh;\r\n}\r\n.header {\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 5px;\r\n  span {\r\n    line-height: 40px;\r\n    font-size: 17px;\r\n  }\r\n}\r\n.topic-header {\r\n  // positio;\r\n  padding: 5px 0 7px 10px;\r\n  border-bottom: 1px dashed #ebeef5;\r\n  box-sizing: border-box;\r\n}\r\n.btns {\r\n  text-align: center;\r\n}\r\n\r\n.el-pagination {\r\n  padding: 20px 0 0 0;\r\n}\r\n.header-label {\r\n  font-size: 17px;\r\n}\r\n\r\n.drawer-header {\r\n  border-bottom: 1px solid #55555520;\r\n  padding: 0 0 10px 0;\r\n  box-sizing: border-box;\r\n  .drawer-left {\r\n    float: left;\r\n    display: flex;\r\n    i {\r\n      line-height: 24px;\r\n    }\r\n    div {\r\n    }\r\n  }\r\n  .drawer-right {\r\n    float: right;\r\n    i {\r\n    }\r\n  }\r\n}\r\n.drawer-label{\r\n  line-height: 40px;\r\n}\r\n.drawer-input {\r\n  padding: 20px;\r\n  margin-top: 20px;\r\n  box-shadow: 0 0 12px 0px rgba(0, 0, 0, 0.3);\r\n  box-sizing: border-box;\r\n  .btns {\r\n    margin-top: 20px;\r\n    box-sizing: border-box;\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"topic-main\">\r\n    <div class=\"topic-header\">\r\n      <el-drawer\r\n        :with-header=\"false\"\r\n        :visible.sync=\"drawer\"\r\n        direction=\"rtl\"\r\n        :before-close=\"handleClose\"\r\n        size=\"20%\"\r\n      >\r\n        <div class=\"drawer-main\">\r\n          <div class=\"drawer-header clearfix\">\r\n            <div class=\"drawer-left\">\r\n              <i class=\"el-icon-warning-outline\"></i>\r\n              <div class=\"drawer-title\">搜索回答</div>\r\n            </div>\r\n            <div class=\"drawer-right\">\r\n              <i class=\"el-icon-close\" @click=\"drawer=false\"></i>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"drawer-input\">\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"8\">\r\n                <div class=\"drawer-label\">话题ID:</div>\r\n              </el-col>\r\n              <el-col :span=\"16\">\r\n                <el-input v-model=\"reqData.topicid\"></el-input>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"24\">\r\n                <div class=\"btns\">\r\n                  <el-button size=\"small\" type=\"primary\" @click.native.stop=\"restReqdata\" plain>重置</el-button>\r\n                  <el-button size=\"small\" type=\"primary\" @click.native.stop=\"handleSearch\" plain>搜索</el-button>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n        </div>\r\n      </el-drawer>\r\n      <el-row>\r\n        <el-col :span=\"2\">\r\n          <el-button size=\"small\" icon=\"el-icon-refresh\" @click=\"refeshForm\"></el-button>\r\n        </el-col>\r\n        <el-col :span=\"2\" :offset=\"20\">\r\n          <el-button size=\"small\" type=\"success\" icon=\"el-icon-search\" @click=\"openDrawer\"></el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n    <div class=\"topic-table\">\r\n      <el-table :data=\"tableData\" size=\"small\" v-loading=\"loading\">\r\n        <el-table-column label=\"ID\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.id }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"摘要\" width=\"250\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.abstract }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"赞同数\" width=\"70\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.agree }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <!-- <el-table-column label=\"关注数\" width=\"70\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.follow }}</span>\r\n          </template> -->\r\n        <!-- </el-table-column> -->\r\n        <el-table-column label=\"话题编号\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.topicid }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"作者UID\" width=\"230\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{scope.row.userid}}</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"修改时间\" width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{parseTime(scope.row.createtime) }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"230\">\r\n          <div class=\"btns\" slot-scope=\"scope\">\r\n            <el-button\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              @click=\"handleDetail(scope.$index, scope.row)\"\r\n              icon=\"el-icon-view\"\r\n            ></el-button>\r\n            <el-button\r\n              size=\"small\"\r\n              @click=\"handleEdit(scope.$index, scope.row)\"\r\n              icon=\"el-icon-edit\"\r\n            ></el-button>\r\n            <el-button\r\n              size=\"small\"\r\n              type=\"danger\"\r\n              @click=\"handleDelete(scope.$index, scope.row)\"\r\n              icon=\"el-icon-delete\"\r\n            ></el-button>\r\n          </div>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"reqData.pageNo\"\r\n        :page-sizes=\"[10, 20, 30, 40]\"\r\n        :page-size=\"100\"\r\n        layout=\" sizes,prev, pager, next\"\r\n        :total=\"reqData.pageCount\"\r\n      ></el-pagination>\r\n      <el-dialog\r\n        :title=\"disabled==true?'回答详情':'编辑回答'\"\r\n        show-close\r\n        top=\"20px\"\r\n        close-on-press-escape\r\n        @close=\"closeDialog\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"60%\"\r\n        center\r\n      >\r\n        <el-form\r\n          :disabled=\"disabled\"\r\n          :model=\"ruleForm\"\r\n          :rules=\"rules\"\r\n          ref=\"ruleForm\"\r\n          label-width=\"100px\"\r\n          class=\"demo-ruleForm\"\r\n        >\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"24\">\r\n              <el-form-item label=\"回答内容\" prop=\"answer\">\r\n                <!-- <el-input type=\"textarea\" v-model=\"ruleForm.answer\"></el-input> -->\r\n                    <vue-editor\r\n                  id=\"editor\"\r\n                  v-model=\"ruleForm.answer\"\r\n                  :disabled=\"disabled\"\r\n                ></vue-editor>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"赞同数\" prop=\"agree\">\r\n                <el-input v-model=\"ruleForm.agree\"></el-input>\r\n              </el-form-item>\r\n            </el-col>         \r\n             <!-- <el-col :span=\"12\">\r\n              <el-form-item label=\"评论数\" prop=\"comments\">\r\n                <el-input v-model=\"ruleForm.comments\"></el-input>\r\n              </el-form-item>\r\n            </el-col> -->\r\n          </el-row>\r\n\r\n\r\n          <el-form-item>\r\n            <el-button @click=\"handleUpdate('ruleForm')\" type=\"primary\">保存</el-button>\r\n            <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { parseTime } from \"../../utils\";\r\nimport { VueEditor } from \"vue2-editor\";\r\nconst searchBtns = () => import(\"@/components/searchBtns\");\r\n// @ is an alias to /src\r\nimport * as myAxios from \"@/api/answermanage\";\r\nexport default {\r\n  name: \"home\",\r\n  data() {\r\n    return {\r\n      drawer: false,\r\n      topicid: \"\",\r\n      disabled: false,\r\n      dialogVisible: false,\r\n      loading: false,\r\n      // form表单\r\n      ruleForm: {\r\n        id: \"\",\r\n        title: \"\",\r\n        abstract: \"\",\r\n        userid: \"\",\r\n        comment: \"\",\r\n        follow: \"\",\r\n        agree: \"\"\r\n      },\r\n      // 表单规则\r\n      rules: {\r\n        detail: [\r\n          { required: true, message: \"请输入话题标题\", trigger: \"blur\" }\r\n          // { min: 3, max: 5, message: \"长度在 3 到 5 个字符\", trigger: \"blur\" }\r\n        ],\r\n        agree: [{ required: true, message: \"请输入话题简介\", trigger: \"blur\" }],\r\n        follow: [\r\n          { required: true, message: \"请输入话题详情\", trigger: \"blur\" }\r\n        ],\r\n        comments: [\r\n          { required: true, message: \"请上传话题封面\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n      reqData: {\r\n        topicid: \"\",\r\n        title: \"\",\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        pageCount: 1\r\n      },\r\n      tableData: []\r\n    };\r\n  },\r\n  methods: {\r\n    restReqdata() {\r\n      this.reqData.topicid = \"\";\r\n    },\r\n    openDrawer() {\r\n      this.drawer = true;\r\n    },\r\n    handleClose(done) {\r\n      done();\r\n    },\r\n    handleSearch() {\r\n      this.getList();\r\n      this.drawer = true;\r\n    },\r\n    refeshForm() {\r\n      this.restReqdata();\r\n      this.getList();\r\n    },\r\n\r\n    // 创建websocket\r\n    initWs() {\r\n      this.socket = new WebSocket(\"ws://localhost:8080/admin/api/ws\");\r\n      this.socket.addEventListener(\"open\", function(event) {\r\n        console.log(\"socket is open\");\r\n      });\r\n      this.socket.addEventListener(\"message\", function(event) {\r\n        console.log(\"Message from server\", event.data);\r\n      });\r\n    },\r\n    parseTime,\r\n    // 表单重置\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    handleUpdate(formName) {\r\n      let that = this;\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          that.updateAnswer(this.topicid);\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 重置form变淡\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    // 关闭dialog\r\n    closeDialog() {\r\n      console.log(\"调用打印\");\r\n      this.clearReqdata(\"ruleForm\");\r\n    },\r\n    // 头部搜索框\r\n    findProject() {\r\n      console.log(\"打印reqdata\");\r\n      console.log(this.reqData);\r\n      this.getAnswers();\r\n    },\r\n    // 清除reqdata\r\n    clearReqdata(formName) {\r\n      this.reqData.topicid = \"\";\r\n      this.reqData.title = \"\";\r\n      this.disabled = false;\r\n      this.$refs[formName].clearValidate();\r\n    },\r\n    // 投不充值\r\n    restProject() {\r\n      this.clearReqdata(\"ruleForm\");\r\n    },\r\n    handleSizeChange(val) {\r\n      this.reqData.pageSize = val;\r\n      console.log(`每页 ${val} 条`);\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.reqData.pageNo = val;\r\n      this.getList();\r\n      console.log(`当前页: ${val}`);\r\n    },\r\n    // 话题详情\r\n    async answerDetail(id) {\r\n      let that = this;\r\n      await myAxios.answerDetail(id).then(res => {\r\n        console.log(res);\r\n        that.ruleForm = res.data.data;\r\n        console.log(that.ruleForm);\r\n      });\r\n    },\r\n    // 修改话题\r\n    async updateAnswer(id) {\r\n      let that = this;\r\n      await myAxios.updateAnswer(this.ruleForm, id).then(res => {\r\n        console.log(res);\r\n        if (res.data.success) {\r\n          that.$message({\r\n            message: res.data.msg,\r\n            type: \"success\"\r\n          });\r\n          that.clearReqdata(\"ruleForm\");\r\n          that.disabled = false;\r\n          that.getList();\r\n          that.dialogVisible = false;\r\n        }\r\n      });\r\n    },\r\n    // 删除话题\r\n    async deleteAnswer(id) {\r\n      let data = {};\r\n      let that = this\r\n      data.id = id;\r\n      await myAxios.deleteAnswer(data, id).then(res => {\r\n        console.log(res);\r\n        if(res.success){\r\n           that.$message({\r\n            message: res.msg,\r\n            type: \"success\"\r\n          });\r\n          that.getList()\r\n        }else{\r\n           that.$message({\r\n            message: res.msg,\r\n            type: \"error\"\r\n          });\r\n        }\r\n      });\r\n    },\r\n    // 获取话题列表\r\n    async getList() {\r\n      let that = this;\r\n      this.loading = true;\r\n      await myAxios\r\n        .getAnswer(this.reqData)\r\n        .then(res => {\r\n          console.log(res);\r\n          that.tableData = res.data.list;\r\n          that.reqData.pageCount = parseInt(res.data.pageCount);\r\n          that.loading = false;\r\n        })\r\n        .catch(() => {\r\n          that.loading = false;\r\n        });\r\n    },\r\n    handleDetail(index, row) {\r\n      this.disabled = true;\r\n      this.answerDetail(row.id);\r\n      this.dialogVisible = true;\r\n    },\r\n    handleEdit(index, row) {\r\n      this.topicid = row.id;\r\n      this.disabled = false;\r\n      this.dialogVisible = true;\r\n      this.answerDetail(row.id);\r\n    },\r\n    handleDelete(index, row) {\r\n      console.log(index, row);\r\n      let that = this;\r\n      console.log(\"删除\");\r\n      this.ruleForm = {};\r\n      this.$confirm(\"此操作将删除该公告, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          that.deleteAnswer(row.id);\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    },\r\n    // 插入图片处理\r\n    async handleImageAdded(file, Editor, cursorLocation, resetUploader) {\r\n      // An example of using FormData\r\n      // NOTE: Your key could be different such as:\r\n      // formData.append('file', file)\r\n      let that = this;\r\n      var formData = new FormData();\r\n      formData.append(\"file\", file);\r\n\r\n      await myaxios.upload(formData).then(res => {\r\n        const data = res.data;\r\n        console.log(data);\r\n        let url = res.data.url; // Get url from response\r\n        Editor.insertEmbed(cursorLocation, \"image\", url);\r\n        resetUploader();\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.getList();\r\n  },\r\n  components: {\r\n    searchBtns: searchBtns,\r\n    VueEditor\r\n  }\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=bf7824ec&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=bf7824ec&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bf7824ec\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}