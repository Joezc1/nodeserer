{"version":3,"sources":["webpack:///./src/views/topicManage/index.vue?3a2e","webpack:///./src/api/topicmanage.js","webpack:///src/views/topicManage/index.vue","webpack:///./src/views/topicManage/index.vue?2d98","webpack:///./src/views/topicManage/index.vue","webpack:///./src/api/upload.js","webpack:///./src/views/topicManage/index.vue?fd55"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","drawer","handleClose","on","$event","_v","model","value","reqData","callback","$$v","$set","expression","staticStyle","nativeOn","stopPropagation","restReqdata","handleSearch","refeshForm","openDrawer","directives","name","rawName","tableData","scopedSlots","_u","key","fn","scope","_s","row","id","userid","title","_f","type","heat","follow","brower","parseTime","createtime","updatetime","handleDetail","$index","handleEdit","handlePass","handleDelete","disabled","dialogVisible","closeDialog","ref","ruleForm","rules","_l","item","handleImageAdded","handleUpdate","resetForm","pageNo","pageCount","handleSizeChange","handleCurrentChange","staticRenderFns","getTopics","data","request","url","method","topicDetail","deleteTopic","updateTopic","topicid","loading","abstract","comment","agree","topic","topiccover","typeList","pageSize","level","filters","switchType","computed","total","get","set","methods","done","initWs","socket","WebSocket","addEventListener","console","log","event","submitForm","$refs","formName","validate","valid","that","resetFields","clearReqdata","findProject","clearValidate","restProject","val","handleChange","index","$confirm","confirmButtonText","cancelButtonText","created","$store","getters","components","searchBtns","VueEditor","activated","state","admin","tags","component","upload","defaultUrl"],"mappings":"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","file":"assets/js/chunk-b9c410ee.ae937dcb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"topic-main\"},[_c('div',{staticClass:\"topic-header\"},[_c('div',{staticClass:\"topic-header\"},[_c('el-drawer',{attrs:{\"with-header\":false,\"visible\":_vm.drawer,\"direction\":\"rtl\",\"before-close\":_vm.handleClose,\"size\":\"20%\"},on:{\"update:visible\":function($event){_vm.drawer=$event}}},[_c('div',{staticClass:\"drawer-main\"},[_c('div',{staticClass:\"drawer-header clearfix\"},[_c('div',{staticClass:\"drawer-left\"},[_c('i',{staticClass:\"el-icon-warning-outline\"}),_c('div',{staticClass:\"drawer-title\"},[_vm._v(\"搜索回答\")])]),_c('div',{staticClass:\"drawer-right\"},[_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){_vm.drawer=false}}})])]),_c('div',{staticClass:\"drawer-input\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":7}},[_c('div',{staticClass:\"drawer-label\"},[_vm._v(\"标题:\")])]),_c('el-col',{attrs:{\"span\":17}},[_c('el-input',{model:{value:(_vm.reqData.title),callback:function ($$v) {_vm.$set(_vm.reqData, \"title\", $$v)},expression:\"reqData.title\"}})],1)],1),_c('el-row',{staticStyle:{\"padding\":\"20px 0 20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":9}},[_c('div',{staticClass:\"drawer-label\"},[_vm._v(\"作者UID:\")])]),_c('el-col',{attrs:{\"span\":15}},[_c('el-input',{model:{value:(_vm.reqData.userid),callback:function ($$v) {_vm.$set(_vm.reqData, \"userid\", $$v)},expression:\"reqData.userid\"}})],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"btns\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\"},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.restReqdata($event)}}},[_vm._v(\"重置\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\"},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.handleSearch($event)}}},[_vm._v(\"搜索\")])],1)])],1)],1)])]),_c('el-row',[_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.refeshForm}})],1),_c('el-col',{attrs:{\"span\":2,\"offset\":20}},[_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-search\",\"size\":\"small\"},on:{\"click\":_vm.openDrawer}})],1)],1)],1)]),_c('div',{staticClass:\"topic-table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.tableData,\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"label\":\"ID\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.id))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"发布人ID\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.userid))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"标题\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.title))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"状态\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"switchType\")(scope.row.type)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"热度\",\"width\":\"70\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.heat))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"关注数\",\"width\":\"70\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.follow))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"浏览量\",\"width\":\"70\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.brower))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.parseTime(scope.row.createtime)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"修改时间\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.parseTime(scope.row.updatetime)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"260\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{staticClass:\"btns\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-view\"},on:{\"click\":function($event){return _vm.handleDetail(scope.$index, scope.row)}}}),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}}),_c('el-button',{attrs:{\"disabled\":scope.row.type!=1,\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-check\"},on:{\"click\":function($event){return _vm.handlePass(scope.$index,scope.row)}}}),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}})],1)}}])})],1),_c('el-dialog',{attrs:{\"title\":_vm.disabled==true?'话题详情':'编辑话题',\"show-close\":\"\",\"top\":\"20px\",\"close-on-press-escape\":\"\",\"visible\":_vm.dialogVisible,\"width\":\"70%\",\"center\":\"\"},on:{\"close\":_vm.closeDialog,\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"disabled\":_vm.disabled,\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"话题标题\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.ruleForm.title),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"title\", $$v)},expression:\"ruleForm.title\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"话题作者\",\"prop\":\"userid\"}},[_c('el-input',{model:{value:(_vm.ruleForm.userid),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"userid\", $$v)},expression:\"ruleForm.userid\"}})],1)],1)],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"关注数\",\"prop\":\"follow\"}},[_c('el-input',{model:{value:(_vm.ruleForm.follow),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"follow\", $$v)},expression:\"ruleForm.follow\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"浏览量\",\"prop\":\"brower\"}},[_c('el-input',{model:{value:(_vm.ruleForm.brower),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"brower\", $$v)},expression:\"ruleForm.brower\"}})],1)],1)],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"话题热度\",\"prop\":\"heat\"}},[_c('el-input',{model:{value:(_vm.ruleForm.heat),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"heat\", $$v)},expression:\"ruleForm.heat\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"话题封面\",\"prop\":\"topiccover\"}},[_c('el-input',{model:{value:(_vm.ruleForm.topiccover),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"topiccover\", $$v)},expression:\"ruleForm.topiccover\"}})],1)],1)],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"审核话题\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.type),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"type\", $$v)},expression:\"ruleForm.type\"}},_vm._l((_vm.typeList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.name,\"value\":item.value}})}),1)],1)],1)],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"话题摘要\",\"prop\":\"abstract\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.ruleForm.abstract),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"abstract\", $$v)},expression:\"ruleForm.abstract\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"话题详情\",\"prop\":\"topic\"}},[_c('vue-editor',{attrs:{\"id\":\"editor\",\"useCustomImageHandler\":\"\",\"disabled\":_vm.disabled},on:{\"image-added\":_vm.handleImageAdded},model:{value:(_vm.ruleForm.topic),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"topic\", $$v)},expression:\"ruleForm.topic\"}})],1)],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleUpdate('ruleForm')}}},[_vm._v(\"保存\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1),_c('el-pagination',{attrs:{\"current-page\":_vm.reqData.pageNo,\"page-sizes\":[10, 20, 30, 40],\"page-size\":100,\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.reqData.pageCount},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.reqData, \"pageNo\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.reqData, \"pageNo\", $event)}}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '../utils/request'\r\n// 获取话题列表\r\nexport function getTopics(data){\r\n    return request({\r\n        url: '/topiclist',\r\n        data: data,\r\n        method: 'POST'\r\n    })\r\n}\r\n// 获取话题详情\r\nexport function topicDetail(data,id) {\r\n    return request({\r\n        url: `/topic/${id}`,\r\n        data: data,\r\n        method: 'post'\r\n    })\r\n}\r\n\r\n// 新增话题\r\nexport function newTopic(data) {\r\n    return request({\r\n        url: '/save/topic',\r\n        data,\r\n        method: 'post'\r\n    })\r\n}\r\n\r\n// 删除话题\r\nexport function deleteTopic(data,id) {\r\n    return request({\r\n        url: `/delete/topic/${id}`,\r\n        data,\r\n        method: 'post'\r\n    })\r\n}\r\n// 修改话题\r\nexport function updateTopic(data,id) {\r\n    return request({\r\n        url: `/update/topic/${id}`,\r\n        data,\r\n        method: 'post'\r\n    })\r\n}\r\n","<template>\r\n  <div class=\"topic-main\">\r\n    <div class=\"topic-header\">\r\n      <div class=\"topic-header\">\r\n        <el-drawer\r\n          :with-header=\"false\"\r\n          :visible.sync=\"drawer\"\r\n          direction=\"rtl\"\r\n          :before-close=\"handleClose\"\r\n          size=\"20%\"\r\n        >\r\n          <div class=\"drawer-main\">\r\n             <div class=\"drawer-header clearfix\">\r\n            <div class=\"drawer-left\">\r\n              <i class=\"el-icon-warning-outline\"></i>\r\n              <div class=\"drawer-title\">搜索回答</div>\r\n            </div>\r\n            <div class=\"drawer-right\">\r\n              <i class=\"el-icon-close\" @click=\"drawer=false\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"drawer-input\">\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"7\">\r\n                <div class=\"drawer-label\">标题:</div>\r\n              </el-col>\r\n              <el-col :span=\"17\">\r\n                <el-input v-model=\"reqData.title\"></el-input>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row style=\"padding:20px 0 20px 0;\" :gutter=\"20\">\r\n              <el-col :span=\"9\">\r\n                <div class=\"drawer-label\">作者UID:</div>\r\n              </el-col>\r\n              <el-col :span=\"15\">\r\n                <el-input v-model=\"reqData.userid\"></el-input>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"24\">\r\n                <div class=\"btns\">\r\n                  <el-button size=\"small\" type=\"primary\" @click.native.stop=\"restReqdata\" plain>重置</el-button>\r\n                  <el-button size=\"small\" type=\"primary\" @click.native.stop=\"handleSearch\" plain>搜索</el-button>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n            </div>\r\n          </div>\r\n        </el-drawer>\r\n        <el-row>\r\n          <el-col :span=\"2\">\r\n            <el-button size=\"small\" icon=\"el-icon-refresh\" @click=\"refeshForm\"></el-button>\r\n          </el-col>\r\n          <el-col :span=\"2\" :offset=\"20\">\r\n            <el-button type=\"success\" icon=\"el-icon-search\" size=\"small\" @click=\"openDrawer\"></el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </div>\r\n    <div class=\"topic-table\">\r\n      <el-table :data=\"tableData\" size=\"small\" v-loading=\"loading\">\r\n        <el-table-column label=\"ID\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.id }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"发布人ID\" width=\"250\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.userid }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"标题\" width=\"300\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.title }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"状态\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.type|switchType }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"热度\" width=\"70\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.heat }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <!-- <el-table-column label=\"赞同数\" width=\"70\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.agree }}</span>\r\n          </template>\r\n        </el-table-column> -->\r\n        <!-- <el-table-column label=\"评论数\" width=\"70\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.comment }}</span>\r\n          </template>\r\n        </el-table-column> -->\r\n        <el-table-column label=\"关注数\" width=\"70\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.follow }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"浏览量\" width=\"70\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.brower }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"创建时间\" width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{parseTime(scope.row.createtime) }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"修改时间\" width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{parseTime(scope.row.updatetime) }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"260\">\r\n          <div class=\"btns\" slot-scope=\"scope\">\r\n            <el-button\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              @click=\"handleDetail(scope.$index, scope.row)\"\r\n              icon=\"el-icon-view\"\r\n            ></el-button>\r\n            <el-button\r\n              size=\"small\"\r\n              @click=\"handleEdit(scope.$index, scope.row)\"\r\n              icon=\"el-icon-edit\"\r\n            ></el-button>\r\n            <el-button\r\n            :disabled=\"scope.row.type!=1\"\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              @click=\"handlePass(scope.$index,scope.row)\"\r\n              icon=\"el-icon-check\"\r\n            ></el-button>\r\n            <el-button\r\n              size=\"small\"\r\n              type=\"danger\"\r\n              @click=\"handleDelete(scope.$index, scope.row)\"\r\n              icon=\"el-icon-delete\"\r\n            ></el-button>\r\n          </div>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <el-dialog\r\n        :title=\"disabled==true?'话题详情':'编辑话题'\"\r\n        show-close\r\n        top=\"20px\"\r\n        close-on-press-escape\r\n        @close=\"closeDialog\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"70%\"\r\n        center\r\n      >\r\n        <el-form\r\n          :disabled=\"disabled\"\r\n          :model=\"ruleForm\"\r\n          :rules=\"rules\"\r\n          ref=\"ruleForm\"\r\n          label-width=\"100px\"\r\n          class=\"demo-ruleForm\"\r\n        >\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"话题标题\" prop=\"title\">\r\n                <el-input v-model=\"ruleForm.title\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"话题作者\" prop=\"userid\">\r\n                <el-input v-model=\"ruleForm.userid\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"关注数\" prop=\"follow\">\r\n                <el-input v-model=\"ruleForm.follow\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"浏览量\" prop=\"brower\">\r\n                <el-input v-model=\"ruleForm.brower\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <!-- <el-row :gutter=\"20\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"评论数\" prop=\"comment\">\r\n                <el-input v-model=\"ruleForm.comment\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"赞同数\" prop=\"agree\">\r\n                <el-input v-model=\"ruleForm.agree\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row> -->\r\n\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"话题热度\" prop=\"heat\">\r\n                <el-input v-model=\"ruleForm.heat\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"话题封面\" prop=\"topiccover\">\r\n                <el-input v-model=\"ruleForm.topiccover\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"12\">\r\n              <el-form-item label=\"审核话题\" prop=\"type\">\r\n                <el-select v-model=\"ruleForm.type\" placeholder=\"请选择\">\r\n                  <el-option\r\n                    v-for=\"item in typeList\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.name\"\r\n                    :value=\"item.value\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"24\">\r\n              <el-form-item label=\"话题摘要\" prop=\"abstract\">\r\n                <el-input type=\"textarea\" v-model=\"ruleForm.abstract\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col :span=\"24\">\r\n              <el-form-item label=\"话题详情\" prop=\"topic\">\r\n                <vue-editor\r\n                  id=\"editor\"\r\n                  useCustomImageHandler\r\n                  @image-added=\"handleImageAdded\"\r\n                  v-model=\"ruleForm.topic\"\r\n                  :disabled=\"disabled\"\r\n                ></vue-editor>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n\r\n          <el-form-item>\r\n            <el-button @click=\"handleUpdate('ruleForm')\" type=\"primary\">保存</el-button>\r\n            <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-dialog>\r\n\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"reqData.pageNo\"\r\n        :page-sizes=\"[10, 20, 30, 40]\"\r\n        :page-size=\"100\"\r\n        layout=\"sizes, prev, pager, next\"\r\n        :total=\"reqData.pageCount\"\r\n      ></el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { parseTime } from \"../../utils\";\r\nimport { VueEditor } from \"vue2-editor\";\r\nconst searchBtns = () => import(\"@/components/searchBtns\");\r\n// @ is an alias to /src\r\nimport * as myAxios from \"@/api/topicmanage\";\r\nimport * as uploaddAxios from \"@/api/upload\"\r\nexport default {\r\n  name: \"home\",\r\n  data() {\r\n    return {\r\n      drawer: false,\r\n      topicid: \"\",\r\n      disabled: false,\r\n      dialogVisible: false,\r\n      loading: false,\r\n      // form表单\r\n      ruleForm: {\r\n        id: \"\",\r\n        title: \"\",\r\n        abstract: \"\",\r\n        userid: \"\",\r\n        comment: \"\",\r\n        follow: \"\",\r\n        agree: \"\",\r\n        heat: \"\",\r\n        brower: \"\",\r\n        topic: \"\",\r\n        topiccover: \"\"\r\n      },\r\n      // 审核状态\r\n      typeList: [\r\n        {\r\n          name: \"未审核\",\r\n          value: 1\r\n        },\r\n        {\r\n          name: \"审核通过\",\r\n          value: 2\r\n        },\r\n        {\r\n          name: \"审核未通过\",\r\n          value: 3\r\n        }\r\n      ],\r\n      // 表单规则\r\n      rules: {\r\n        title: [\r\n          { required: true, message: \"请输入话题标题\", trigger: \"blur\" }\r\n          // { min: 3, max: 5, message: \"长度在 3 到 5 个字符\", trigger: \"blur\" }\r\n        ],\r\n        abstract: [\r\n          { required: true, message: \"请输入话题简介\", trigger: \"blur\" }\r\n        ],\r\n        topic: [{ required: true, message: \"请输入话题详情\", trigger: \"blur\" }],\r\n        topiccover: [\r\n          { required: true, message: \"请上传话题封面\", trigger: \"blur\" }\r\n        ],\r\n        userid: [{ required: true, message: \"请输入用户\", trigger: \"blur\" }],\r\n        comment: [{ required: true, message: \"请输入评论数\", trigger: \"blur\" }],\r\n        follow: [{ required: true, message: \"请输入关注数\", trigger: \"blur\" }],\r\n        agree: [{ required: true, message: \"请输入赞同数\", trigger: \"blur\" }],\r\n        heat: [{ required: true, message: \"请输入热度\", trigger: \"blur\" }],\r\n        brower: [{ required: true, message: \"请输入公告详情\", trigger: \"blur\" }],\r\n        type: [{ required: true, message: \"选择话题状态\", trigger: \"blur\" }]\r\n\r\n      },\r\n      reqData: {\r\n        title: \"\",\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        pageCount: 1,\r\n        userid: \"\"\r\n      },\r\n      tableData: [],\r\n      level: '0'\r\n    };\r\n  },\r\n  filters: {\r\n    switchType(key) {\r\n      switch (key) {\r\n        case 1:\r\n          return \"未审核\";\r\n          break;\r\n        case 2:\r\n          return \"审核通过\";\r\n          break;\r\n        default:\r\n          return \"未审核通过\";\r\n          break;\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    total: {\r\n      get: () => {\r\n        return this.reqData.total;\r\n      },\r\n      set: newval => {\r\n        this.reqData.total = newval;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 审核通过\r\n    async handlePass(index, row) {\r\n      let that = this;\r\n      row.type = 2;\r\n      await myAxios.updateTopic(row, row.id).then(res => {\r\n        if (res.data.success) {\r\n          that.$message({\r\n            message: '审核通过',\r\n            type: \"success\"\r\n          });\r\n        } else {\r\n          that.$message({\r\n            message: res.data.msg,\r\n            type: \"success\"\r\n          });\r\n        }\r\n      });\r\n    },\r\n    restReqdata() {\r\n      this.reqData.title = \"\";\r\n      this.reqData.userid = \"\";\r\n    },\r\n    openDrawer() {\r\n      this.drawer = true;\r\n    },\r\n    handleClose(done) {\r\n      done();\r\n    },\r\n    handleSearch() {\r\n      this.getTopics();\r\n      this.drawer = true;\r\n    },\r\n    refeshForm() {\r\n      this.restReqdata();\r\n      this.getTopics();\r\n    },\r\n\r\n    // 创建websocket\r\n    initWs() {\r\n      this.socket = new WebSocket(\"ws://localhost:8080/admin/api/ws\");\r\n      this.socket.addEventListener(\"open\", function(event) {\r\n        console.log(\"socket is open\");\r\n      });\r\n      this.socket.addEventListener(\"message\", function(event) {\r\n        console.log(\"Message from server\", event.data);\r\n      });\r\n    },\r\n    parseTime,\r\n    // 表单重置\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    handleUpdate(formName) {\r\n      let that = this;\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          that.updateTopic(this.topicid);\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 重置form变淡\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    // 关闭dialog\r\n    closeDialog() {\r\n      console.log(\"调用打印\");\r\n      this.clearReqdata(\"ruleForm\");\r\n    },\r\n    // 头部搜索框\r\n    findProject() {\r\n      console.log(\"打印reqdata\");\r\n      console.log(this.reqData);\r\n      this.getTopics();\r\n    },\r\n    // 清除reqdata\r\n    clearReqdata(formName) {\r\n      this.reqData.title = \"\";\r\n      this.reqData.userid = \"\";\r\n      this.disabled = false;\r\n      this.$refs[formName].clearValidate();\r\n    },\r\n    // 投不充值\r\n    restProject() {\r\n      this.clearReqdata(\"ruleForm\");\r\n    },\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n      this.reqData.pageSize = val\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n    },\r\n    handleChange(value) {\r\n      console.log(\"打印子组件传递的\");\r\n      console.log(value);\r\n    },\r\n    // 话题详情\r\n    async topicDetail(topicid) {\r\n      let that = this;\r\n      await myAxios.topicDetail({ id: topicid }, topicid).then(res => {\r\n        console.log(res);\r\n        that.ruleForm = res.data.data;\r\n        console.log(that.ruleForm);\r\n      });\r\n    },\r\n    // 修改话题\r\n    async updateTopic(topicid) {\r\n      let that = this;\r\n      await myAxios.updateTopic(this.ruleForm, topicid).then(res => {\r\n        console.log(res);\r\n        if (res.data.success) {\r\n          that.$message({\r\n            message: res.data.msg,\r\n            type: \"success\"\r\n          });\r\n          that.clearReqdata(\"ruleForm\");\r\n          that.disabled = false;\r\n          that.getTopics();\r\n          that.dialogVisible = false;\r\n        }\r\n      });\r\n    },\r\n    // 删除话题\r\n    async deleteTopic(topicid) {\r\n      let data = {};\r\n      data.id = topicid;\r\n      let that = this\r\n      await myAxios.deleteTopic(data, topicid).then(res => {\r\n        if(res.data.success){\r\n           that.$message({\r\n            type: \"success\",\r\n            message: res.data.msg\r\n          });\r\n          that.getTopics()\r\n        }else{\r\n           that.$message({\r\n            type: \"error\",\r\n            message: res.data.msg\r\n          });\r\n        }\r\n        console.log(res);\r\n      });\r\n    },\r\n    // 获取话题列表\r\n    async getTopics() {\r\n      let that = this;\r\n      this.loading = true;\r\n      await myAxios\r\n        .getTopics(this.reqData)\r\n        .then(res => {\r\n          console.log(res);\r\n          that.tableData = res.data;\r\n          // that.reqData.pageCount = parseInt(res.pageCount);\r\n          that.total = parseInt(res.pageCount);\r\n          that.loading = false;\r\n        })\r\n        .catch(() => {\r\n          that.loading = false;\r\n        });\r\n    },\r\n    handleDetail(index, row) {\r\n      this.disabled = true;\r\n      this.topicDetail(row.id);\r\n      this.dialogVisible = true;\r\n    },\r\n    handleEdit(index, row) {\r\n      this.topicid = row.id;\r\n      this.disabled = false;\r\n      this.dialogVisible = true;\r\n      this.topicDetail(row.id);\r\n    },\r\n    handleDelete(index, row) {\r\n      console.log(index, row);\r\n      let that = this;\r\n      console.log(\"删除\");\r\n      this.ruleForm = {};\r\n      this.$confirm(\"此操作将删除该公告, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          that.deleteTopic(row.id);\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    },\r\n    // 插入图片处理\r\n    async handleImageAdded(file, Editor, cursorLocation, resetUploader) {\r\n      // An example of using FormData\r\n      // NOTE: Your key could be different such as:\r\n      // formData.append('file', file);\r\n      let that = this;\r\n      var formData = new FormData();\r\n      formData.append(\"file\", file);\r\n\r\n      await uploaddAxios.upload(formData).then(res => {\r\n        const data = res.data;\r\n        console.log(data);\r\n        let url = res.data.url; // Get url from response\r\n        Editor.insertEmbed(cursorLocation, \"image\", url);\r\n        resetUploader();\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.level = this.$store.getters.level\r\n    console.log(\"打印store\");\r\n    console.log(this.$store);\r\n    this.getTopics();\r\n  },\r\n  components: {\r\n    searchBtns: searchBtns,\r\n    VueEditor\r\n  },\r\n  activated() {\r\n    this.$store.state.admin.tags = [];\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.drawer-label{\r\n  line-height: 40px;\r\n}\r\n.drawer-header {\r\n  border-bottom: 1px solid #55555520;\r\n  padding: 0 0 10px 0;\r\n  box-sizing: border-box;\r\n  .drawer-left {\r\n    float: left;\r\n    display: flex;\r\n    i {\r\n      line-height: 24px;\r\n    }\r\n    div {\r\n    }\r\n  }\r\n  .drawer-right {\r\n    float: right;\r\n    i {\r\n    }\r\n  }\r\n}\r\n.drawer-input {\r\n  padding: 20px;\r\n  margin-top: 20px;\r\n  box-shadow: 0 0 12px 0px rgba(0, 0, 0, 0.3);\r\n  box-sizing: border-box;\r\n  .btns {\r\n    margin-top: 20px;\r\n    box-sizing: border-box;\r\n  }\r\n}\r\n.drawer-main {\r\n  padding: 50px 20px 50px 20px;\r\n  box-sizing: border-box;\r\n  height: 100vh;\r\n}\r\n.header {\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 5px;\r\n  span {\r\n    line-height: 40px;\r\n    font-size: 17px;\r\n  }\r\n}\r\n.topic-header {\r\n  padding: 5px 0 7px 10px;\r\n  border-bottom: 1px dashed #ebeef5;\r\n  box-sizing: border-box;\r\n}\r\n.btns {\r\n  text-align: center;\r\n}\r\n\r\n.el-pagination {\r\n  padding: 20px 0 0 0;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b7d385be&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=b7d385be&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7d385be\",\n  null\n  \n)\n\nexport default component.exports","import request from '../utils/request'\r\n\r\nexport function upload(data) {\r\n  return request({\r\n    url: '/upload',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// export const defaultUrl = 'http://localhost:8080/admin/api/upload'\r\nexport const defaultUrl = 'http://39.106.159.120:8080/admin/api/upload'\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b7d385be&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b7d385be&lang=scss&scoped=true&\""],"sourceRoot":""}