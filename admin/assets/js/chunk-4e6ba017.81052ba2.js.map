{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/views/contentManage/index.vue?0693","webpack:///./src/views/contentManage/index.vue?88b8","webpack:///./src/api/upload.js","webpack:///./src/api/noticemanage.js","webpack:///src/views/contentManage/index.vue","webpack:///./src/views/contentManage/index.vue?b68f","webpack:///./src/views/contentManage/index.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js"],"names":["toInteger","requireObjectCoercible","module","exports","repeat","count","str","String","this","result","n","Infinity","RangeError","classof","value","TypeError","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","reqData","inputBtns","pickerOptions","selectedBtns","on","handleChange","newProject","findProject","restProject","directives","name","rawName","expression","tableData","scopedSlots","_u","key","fn","scope","_v","_s","row","id","author","title","parseTime","createtime","updatetime","$event","handleDetail","$index","handleEdit","handleDelete","pageNo","handleSizeChange","handleCurrentChange","$set","newflag","dialogVisible","closeDialog","ref","disabled","ruleForm","rules","model","callback","$$v","_l","item","defaultUrl","handleCoverSuccess","beforeUploadCover","cover","handleAvatarSuccess","beforeUploadVideo","slot","video","handleImageAdded","submitForm","handleUpdate","resetForm","staticRenderFns","upload","data","request","url","method","addNotice","getNotices","noticeDetail","deleteNotice","updateNotice","socket","videoFlag","videoUploadPercent","loading","options","detail","type","content","hidden","shortcuts","created","getNoticeList","methods","console","log","res","file","isJPG","$message","error","isLt2M","uploadVideoProcess","percentage","toFixed","clearForm","pageSize","val","$confirm","confirmButtonText","cancelButtonText","$refs","formName","validate","valid","resetFields","components","VueEditor","searchBtns","component","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","$","thisNumberValue","fails","nativeToFixed","floor","Math","pow","x","acc","x2","FORCED","call","target","proto","forced","fractionDigits","e","z","j","k","number","fractDigits","sign","multiply","c","index","c2","divide","dataToString","s","t","length","slice"],"mappings":"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","file":"assets/js/chunk-4e6ba017.81052ba2.js","sourcesContent":["'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=448239b8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=448239b8&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-main\"},[_c('div',{staticClass:\"content-header\"},[_c('searchBtns',{attrs:{\"reqData\":_vm.reqData,\"inputBtns\":_vm.inputBtns,\"pickerOptions\":_vm.pickerOptions,\"selectedBtns\":_vm.selectedBtns,\"newBtn\":true,\"hiddencase\":true},on:{\"handleChange\":_vm.handleChange,\"newProject\":_vm.newProject,\"findProject\":_vm.findProject,\"restProject\":_vm.restProject}})],1),_c('div',{staticClass:\"notice-table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.tableData,\"width\":\"100%\",\"size\":\"medium\"}},[_c('el-table-column',{attrs:{\"label\":\"ID\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.id))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"作者\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.author))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"标题\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.title))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"发布时间\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.parseTime(scope.row.createtime)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"修改时间\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.parseTime(scope.row.updatetime)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"230\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{staticClass:\"btns\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleDetail(scope.$index, scope.row)}}},[_vm._v(\"详情\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])],1)}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.reqData.pageNo,\"page-sizes\":[10, 20, 30, 40],\"page-size\":100,\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.reqData.count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.reqData, \"pageNo\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.reqData, \"pageNo\", $event)}}})],1),_c('el-dialog',{attrs:{\"title\":_vm.newflag?'新增公告':'公告详情',\"show-close\":\"\",\"top\":\"20px\",\"close-on-press-escape\":\"\",\"visible\":_vm.dialogVisible,\"width\":\"80%\",\"center\":\"\"},on:{\"close\":_vm.closeDialog,\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"disabled\":_vm.disabled,\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"公告标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入公告标题\"},model:{value:(_vm.ruleForm.title),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"title\", $$v)},expression:\"ruleForm.title\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"发布作者\",\"prop\":\"author\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入发布作者\"},model:{value:(_vm.ruleForm.author),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"author\", $$v)},expression:\"ruleForm.author\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"公告类型\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择类型\"},model:{value:(_vm.ruleForm.type),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"type\", $$v)},expression:\"ruleForm.type\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.name,\"value\":item.value}})}),1)],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"公告封面\",\"prop\":\"cover\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.defaultUrl,\"show-file-list\":false,\"on-success\":_vm.handleCoverSuccess,\"before-upload\":_vm.beforeUploadCover}},[(_vm.ruleForm.cover)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.ruleForm.cover}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"公告视频\",\"prop\":\"detail\"}},[_c('el-upload',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.newflag || !_vm.disabled),expression:\"newflag || !disabled\"}],staticClass:\"upload-demo\",attrs:{\"drag\":\"\",\"action\":_vm.defaultUrl,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeUploadVideo}},[_c('i',{staticClass:\"el-icon-upload\"}),(_vm.disabled)?_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\" 将文件拖到此处，或 \"),_c('em',[_vm._v(\"点击上传\")])]):_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\" 修改原视频 \"),_c('em',[_vm._v(\"点击上传\")]),_vm._v(\"新的视频 \")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传mp4,ogg,flv,avi,wmv,rmvb格式的视频\")])]),_c('video',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ruleForm.video!='undefined'&&_vm.ruleForm.video!=''&&_vm.ruleForm.video!=null&&_vm.ruleForm.video!='null'),expression:\"ruleForm.video!='undefined'&&ruleForm.video!=''&&ruleForm.video!=null&&ruleForm.video!='null'\"}],staticClass:\"upload-video\",attrs:{\"controls\":\"controls\",\"src\":_vm.ruleForm.video}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"公告详情\",\"prop\":\"detail\"}},[_c('vue-editor',{attrs:{\"id\":\"editor\",\"useCustomImageHandler\":\"\",\"disabled\":_vm.disabled},on:{\"image-added\":_vm.handleImageAdded},model:{value:(_vm.ruleForm.detail),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"detail\", $$v)},expression:\"ruleForm.detail\"}})],1)],1)],1),_c('el-form-item',[(_vm.newflag)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"立即创建\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleUpdate}},[_vm._v(\"保存\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '../utils/request'\r\n\r\nexport function upload(data) {\r\n  return request({\r\n    url: '/upload',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// export const defaultUrl = 'http://localhost:8080/admin/api/upload'\r\nexport const defaultUrl = 'http://39.106.159.120:8080/admin/api/upload'\r\n","import request from '../utils/request'\r\n\r\n// 新增公告\r\nexport function addNotice(data) {\r\n  return request({\r\n    url: '/save/notice',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 公告列表\r\nexport function getNotices(data) {\r\n  return request({\r\n    url: '/noticelist',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 查询公告\r\nexport function noticeDetail(data,id){\r\n  return request({\r\n    url: `/notice/${id}`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 删除公告\r\nexport function deleteNotice(data,id){\r\n  return request({\r\n    url: `/delete/notice/${id}`,\r\n    data: data,\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n// 修改公告\r\nexport function updateNotice(data,id){\r\n  return request({\r\n    url: `/update/notice/${id}`,\r\n    data:data,\r\n    method:'post'\r\n  })\r\n}","<template>\r\n  <div class=\"content-main\">\r\n    <div class=\"content-header\">\r\n      <searchBtns\r\n        :reqData=\"reqData\"\r\n        @handleChange=\"handleChange\"\r\n        :inputBtns=\"inputBtns\"\r\n        :pickerOptions=\"pickerOptions\"\r\n        @newProject=\"newProject\"\r\n        @findProject=\"findProject\"\r\n        @restProject=\"restProject\"\r\n        :selectedBtns=\"selectedBtns\"\r\n        :newBtn=\"true\"\r\n        :hiddencase=\"true\"\r\n      ></searchBtns>\r\n    </div>\r\n\r\n    <div class=\"notice-table\">\r\n      <el-table :data=\"tableData\" v-loading=\"loading\" width=\"100%\" size=\"medium\">\r\n        <el-table-column label=\"ID\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.id }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"作者\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.author }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"标题\" width=\"300\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.title }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"发布时间\" width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{parseTime(scope.row.createtime) }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"修改时间\" width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{parseTime(scope.row.updatetime) }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"230\" fixed=\"right\">\r\n          <div class=\"btns\" slot-scope=\"scope\">\r\n            <el-button size=\"small\" type=\"primary\" @click=\"handleDetail(scope.$index, scope.row)\">详情</el-button>\r\n            <el-button size=\"small\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n            <el-button size=\"small\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n          </div>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"reqData.pageNo\"\r\n        :page-sizes=\"[10, 20, 30, 40]\"\r\n        :page-size=\"100\"\r\n        layout=\"sizes, prev, pager, next\"\r\n        :total=\"reqData.count\"\r\n      ></el-pagination>\r\n    </div>\r\n\r\n    <el-dialog\r\n      :title=\"newflag?'新增公告':'公告详情'\"\r\n      show-close\r\n      top=\"20px\"\r\n      close-on-press-escape\r\n      @close=\"closeDialog\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"80%\"\r\n      center\r\n    >\r\n      <el-form\r\n        :disabled=\"disabled\"\r\n        :model=\"ruleForm\"\r\n        :rules=\"rules\"\r\n        ref=\"ruleForm\"\r\n        label-width=\"100px\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"公告标题\" prop=\"title\">\r\n              <el-input placeholder=\"请输入公告标题\" v-model=\"ruleForm.title\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"发布作者\" prop=\"author\">\r\n              <el-input placeholder=\"请输入发布作者\" v-model=\"ruleForm.author\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"公告类型\" prop=\"type\">\r\n              <el-select v-model=\"ruleForm.type\" placeholder=\"请选择类型\">\r\n                <el-option\r\n                  v-for=\"item in options\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.name\"\r\n                  :value=\"item.value\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"公告封面\" prop=\"cover\">\r\n              <el-upload\r\n                class=\"avatar-uploader\"\r\n                :action=\"defaultUrl\"\r\n                :show-file-list=\"false\"\r\n                :on-success=\"handleCoverSuccess\"\r\n                :before-upload=\"beforeUploadCover\"\r\n              >\r\n                <img v-if=\"ruleForm.cover\" :src=\"ruleForm.cover\" class=\"avatar\" />\r\n                <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n              </el-upload>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"公告视频\" prop=\"detail\">\r\n              <el-upload\r\n                v-show=\"newflag || !disabled\"\r\n                class=\"upload-demo\"\r\n                drag\r\n                :action=\"defaultUrl\"\r\n                :on-success=\"handleAvatarSuccess\"\r\n                :before-upload=\"beforeUploadVideo\"\r\n              >\r\n                <i class=\"el-icon-upload\"></i>\r\n                <div v-if=\"disabled\" class=\"el-upload__text\">\r\n                  将文件拖到此处，或\r\n                  <em>点击上传</em>\r\n                </div>\r\n                <div v-else class=\"el-upload__text\">\r\n                  修改原视频\r\n                  <em>点击上传</em>新的视频\r\n                </div>\r\n                <div class=\"el-upload__tip\" slot=\"tip\">只能上传mp4,ogg,flv,avi,wmv,rmvb格式的视频</div>\r\n              </el-upload>\r\n\r\n              <video\r\n                class=\"upload-video\"\r\n                v-show=\"ruleForm.video!='undefined'&&ruleForm.video!=''&&ruleForm.video!=null&&ruleForm.video!='null'\"\r\n                controls=\"controls\"\r\n                :src=\"ruleForm.video\"\r\n              ></video>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"公告详情\" prop=\"detail\">\r\n              <vue-editor\r\n                id=\"editor\"\r\n                useCustomImageHandler\r\n                @image-added=\"handleImageAdded\"\r\n                v-model=\"ruleForm.detail\"\r\n                :disabled=\"disabled\"\r\n              ></vue-editor>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-form-item>\r\n          <el-button v-if=\"newflag\" type=\"primary\" @click=\"submitForm('ruleForm')\">立即创建</el-button>\r\n          <el-button v-else @click=\"handleUpdate\" type=\"primary\">保存</el-button>\r\n          <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst searchBtns = () => import(\"@/components/searchBtns\");\r\n// @ is an alias to /src\r\nimport { parseTime } from \"../../utils\";\r\nimport * as myaxios from \"@/api/upload\";\r\nimport * as noticeAxios from \"@/api/noticemanage\";\r\nimport { VueEditor } from \"vue2-editor\";\r\nexport default {\r\n  name: \"home\",\r\n  data() {\r\n    return {\r\n      socket: null,\r\n      videoFlag: false,\r\n      videoUploadPercent: 0,\r\n      defaultUrl: \"\",\r\n      loading: false,\r\n      newflag: false,\r\n      disabled: false,\r\n      options: [\r\n        {\r\n          name: \"未发布\",\r\n          value: 1\r\n        },\r\n        {\r\n          name: \"已发布\",\r\n          value: 2\r\n        }\r\n      ],\r\n      reqData: {\r\n        title: \"\",\r\n        author: \"\",\r\n        detail: \"\",\r\n        id: \"\",\r\n        title: \"\",\r\n        createtime: \"\",\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        count: 0\r\n      },\r\n      ruleForm: {\r\n        title: \"\",\r\n        author: \"\",\r\n        detail: \"\",\r\n        id: \"\",\r\n        video: \"\",\r\n        type: \"\",\r\n        cover: \"\"\r\n      },\r\n      rules: {\r\n        title: [\r\n          { required: true, message: \"请输入公告名称\", trigger: \"blur\" }\r\n          // { min: 3, max: 5, message: \"长度在 3 到 5 个字符\", trigger: \"blur\" }\r\n        ],\r\n        author: [\r\n          { required: true, message: \"请输入公告作者\", trigger: \"blur\" }\r\n        ],\r\n        type: [{ required: true, message: \"请选择公告类型\", trigger: \"blur\" }],\r\n        cover: [{ required: true, message: \"请上传公告图片\", trigger: \"blur\" }],\r\n        detail: [{ required: true, message: \"请输入公告详情\", trigger: \"blur\" }]\r\n      },\r\n      dialogVisible: false,\r\n      content: \"\", //这是富文本框内容\r\n      pickerOptions: {\r\n        hidden: false,\r\n        shortcuts: [\r\n          {\r\n            text: \"今天\",\r\n            onClick(picker) {\r\n              picker.$emit(\"pick\", new Date());\r\n            }\r\n          },\r\n          {\r\n            text: \"昨天\",\r\n            onClick(picker) {\r\n              const date = new Date();\r\n              date.setTime(date.getTime() - 3600 * 1000 * 24);\r\n              picker.$emit(\"pick\", date);\r\n            }\r\n          },\r\n          {\r\n            text: \"一周前\",\r\n            onClick(picker) {\r\n              const date = new Date();\r\n              date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit(\"pick\", date);\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      inputBtns: [\r\n        {\r\n          name: \"ID\",\r\n          value: \"id\",\r\n          hidden: false\r\n        },\r\n        {\r\n          name: \"标题\",\r\n          value: \"title\",\r\n          hidden: false\r\n        },\r\n        {\r\n          name: \"作者\",\r\n          value: \"author\",\r\n          hidden: false\r\n        }\r\n      ],\r\n      selectedBtns: [\r\n        {\r\n          hidden: false,\r\n          name: \"标签\",\r\n          value: \"tag\",\r\n          data: [\r\n            { id: 0, name: \"科技\" },\r\n            { id: 1, name: \"IT技术\" },\r\n            { id: 2, name: \"美食\" }\r\n          ]\r\n        }\r\n      ],\r\n      tableData: []\r\n    };\r\n  },\r\n  created() {\r\n    this.getNoticeList();\r\n    this.defaultUrl = myaxios.defaultUrl;\r\n  },\r\n  methods: {\r\n    // 文件上传成功\r\n    handleAvatarSuccess(res, file) {\r\n      console.log(res);\r\n      console.log(file);\r\n      this.ruleForm.video = res.data.url;\r\n      // this.ruleForm.video = URL.createObjectURL(file.raw);\r\n      console.log(\"上传成功,打印文件地址\");\r\n      console.log(this.ruleForm.video);\r\n    },\r\n    // 上传图片封面\r\n    handleCoverSuccess(res, file) {\r\n      console.log(res);\r\n      console.log(file);\r\n      this.ruleForm.cover = res.data.url;\r\n      // this.ruleForm.video = URL.createObjectURL(file.raw);\r\n      console.log(\"上传成功,打印封面地址\");\r\n      console.log(this.ruleForm.cover);\r\n    },\r\n    // 上传图片之前\r\n    beforeUploadCover(file) {\r\n      const isJPG = file.type === \"image/jpeg\";\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n      if (!isJPG) {\r\n        this.$message.error(\"上传头像图片只能是 JPG 格式!\");\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\r\n      }\r\n      return isJPG && isLt2M;\r\n      // if (!isLt10M) {\r\n      //   this.$message.error(\"上传视频大小不能超过10MB哦!\");\r\n      //   return false;\r\n      // }\r\n    },\r\n    // 上传之前\r\n    beforeUploadVideo(file) {\r\n      const isLt10M = file.size / 1024 / 1024 < 10;\r\n      if (\r\n        [\r\n          \"video/mp4\",\r\n          \"video/ogg\",\r\n          \"video/flv\",\r\n          \"video/avi\",\r\n          \"video/wmv\",\r\n          \"video/rmvb\"\r\n        ].indexOf(file.type) == -1\r\n      ) {\r\n        this.$message.error(\"请上传正确的视频格式\");\r\n        return false;\r\n      }\r\n      // if (!isLt10M) {\r\n      //   this.$message.error(\"上传视频大小不能超过10MB哦!\");\r\n      //   return false;\r\n      // }\r\n    },\r\n    // 进度条\r\n    uploadVideoProcess(event, file, fileList) {\r\n      this.videoFlag = true;\r\n      this.videoUploadPercent = file.percentage.toFixed(0);\r\n    },\r\n    // 重置表单\r\n    clearForm() {\r\n      this.reqData.id = \"\";\r\n      this.reqData.title = \"\";\r\n      this.reqData.author = \"\";\r\n      this.reqData.title = \"\";\r\n      this.reqData.createtime = \"\";\r\n      this.ruleForm = {\r\n        title: \"\",\r\n        author: \"\",\r\n        detail: \"\",\r\n        id: \"\",\r\n        title: \"\",\r\n        createtime: \"\",\r\n        videoo: \"\"\r\n      };\r\n    },\r\n    parseTime,\r\n    handleUpdate() {\r\n      this.updateNotice(this.ruleForm, this.ruleForm.id);\r\n    },\r\n    handleSizeChange(val) {\r\n      this.reqData.pageSize = val;\r\n      this.getNoticeList();\r\n      console.log(`每页 ${val} 条`);\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.reqData.pageNo = val;\r\n      this.getNoticeList();\r\n      console.log(`当前页: ${val}`);\r\n    },\r\n    handleEdit(index, row) {\r\n      this.disabled = false;\r\n      this.dialogVisible = true;\r\n      this.noticeDetail(row.id);\r\n    },\r\n    handleDelete(index, row) {\r\n      let that = this;\r\n      console.log(\"删除\");\r\n      this.ruleForm = {};\r\n      this.$confirm(\"此操作将删除该公告, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          that.deleteNotice(row.id);\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    },\r\n    // 更改公告\r\n    async updateNotice(data, id) {\r\n      let that = this;\r\n      await noticeAxios.updateNotice(data, id).then(res => {\r\n        if (res.data.success) {\r\n          that.$message({\r\n            type: \"success\",\r\n            message: res.data.msg\r\n          });\r\n          that.dialogVisible = false;\r\n          that.getNoticeList();\r\n        } else {\r\n          that.$message({\r\n            type: \"error\",\r\n            message: res.data.msg\r\n          });\r\n        }\r\n      });\r\n    },\r\n    // 删除公告\r\n    async deleteNotice(id) {\r\n      let data = {\r\n        id\r\n      };\r\n      let that = this;\r\n      await noticeAxios.deleteNotice(data, id).then(res => {\r\n        if (res.data.success) {\r\n          that.$message({\r\n            type: \"success\",\r\n            message: res.data.msg\r\n          });\r\n          that.getNoticeList();\r\n        } else {\r\n          that.$message({\r\n            type: \"error\",\r\n            message: res.data.msg\r\n          });\r\n        }\r\n      });\r\n    },\r\n    // 查询公告详情\r\n    async noticeDetail(id) {\r\n      let data = {\r\n        id\r\n      };\r\n      let that = this;\r\n      await noticeAxios.noticeDetail(data, id).then(res => {\r\n        if (res.data.success) {\r\n          that.ruleForm = res.data.data;\r\n          that.ruleForm.createtime = that.parseTime(that.ruleForm.createtime);\r\n          that.ruleForm.updatetime = that.parseTime(that.ruleForm.updatetime);\r\n          console.log(that.ruleForm);\r\n        }\r\n      });\r\n    },\r\n    // 点击详情\r\n    handleDetail(index, row) {\r\n      this.dialogVisible = true;\r\n      this.disabled = true;\r\n      console.log(row);\r\n      this.noticeDetail(row.id);\r\n    },\r\n    // 查询公告列表\r\n    async getNoticeList() {\r\n      let that = this;\r\n      that.loading = true;\r\n      this.reqData.createtime = parseTime(this.reqData.createtime);\r\n      await noticeAxios\r\n        .getNotices(this.reqData)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            that.tableData = res.data.list;\r\n            that.loading = false;\r\n            that.reqData.count = parseInt(res.data.pageCount);\r\n            console.log(that.reqData);\r\n          } else {\r\n            that.$message({\r\n              type: \"success\",\r\n              message: res.data.msg,\r\n              duration: 1500\r\n            });\r\n          }\r\n        })\r\n        .catch(() => {\r\n          that.loading = false;\r\n        });\r\n    },\r\n    // 新增公告\r\n    async newNotice() {\r\n      let that = this;\r\n      await noticeAxios.addNotice(this.ruleForm).then(res => {\r\n        console.log(res.data);\r\n        if (res.data.success) {\r\n          that.dialogVisible = false;\r\n          that.getNoticeList();\r\n          that.$message({\r\n            type: \"success\",\r\n            message: res.data.msg,\r\n            duration: 1500\r\n          });\r\n        } else {\r\n          that.$message({\r\n            type: \"error\",\r\n            message: res.data.msg,\r\n            duration: 1500\r\n          });\r\n        }\r\n      });\r\n    },\r\n    // 表单重置\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.newNotice();\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    handleChange(value) {\r\n      console.log(\"打印子组件传递的\");\r\n      console.log(value);\r\n    },\r\n    newProject() {\r\n      this.clearForm();\r\n      this.dialogVisible = true;\r\n      this.newflag = true;\r\n    },\r\n    findProject() {\r\n      console.log(this.reqData);\r\n      this.getNoticeList();\r\n    },\r\n    restProject() {\r\n      this.clearForm();\r\n    },\r\n    closeDialog() {\r\n      this.disabled = false;\r\n      this.dialogVisible = false;\r\n      this.newflag = false;\r\n      this.clearForm();\r\n      console.log(\"调用关闭\");\r\n    },\r\n    // 插入图片处理\r\n    async handleImageAdded(file, Editor, cursorLocation, resetUploader) {\r\n      // An example of using FormData\r\n      // NOTE: Your key could be different such as:\r\n      // formData.append('file', file)\r\n      let that = this;\r\n      var formData = new FormData();\r\n      formData.append(\"file\", file);\r\n\r\n      await myaxios.upload(formData).then(res => {\r\n        const data = res.data;\r\n        console.log(data);\r\n        let url = res.data.url; // Get url from response\r\n        Editor.insertEmbed(cursorLocation, \"image\", url);\r\n        resetUploader();\r\n      });\r\n    }\r\n  },\r\n  components: {\r\n    VueEditor,\r\n    searchBtns\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.avatar-uploader .el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n  .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n  }\r\n  .avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n  }\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.el-select {\r\n  float: left;\r\n}\r\n.el-form-item__content::after {\r\n  clear: both;\r\n  font-size: 0;\r\n  display: block;\r\n  height: 0;\r\n  content: \"\";\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\r\n}\r\n.upload-video {\r\n  height: 200px;\r\n  width: 40%;\r\n  margin-left: 0;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=448239b8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=448239b8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"448239b8\",\n  null\n  \n)\n\nexport default component.exports","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n"],"sourceRoot":""}